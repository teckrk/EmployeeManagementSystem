<div class="overflow-x-auto p-8">
    @if (!isFormOpen){
    <div class="flex justify-between mb-2">
        <h1 class="text-3xl text-gray-700 font-bold">Departments</h1>
        <button class="bg-green-500 hover:bg-green-600 text-white text-xs font-semibold px-3 py-1 rounded"
            (click)="isFormOpen=true">
            Add
        </button>
    </div>
    <table class="min-w-full text-sm text-left text-gray-700 bg-blue-50 border border-blue-200 rounded-lg shadow-md">
        <thead class="text-xs uppercase bg-blue-100 text-blue-800">
            <tr>
                <th scope="col" class="px-6 py-3">#</th>
                <th scope="col" class="px-6 py-3">Department Name</th>
                <th scope="col" class="px-6 py-3 text-center">Actions</th>
            </tr>
        </thead>
        <tbody>
            @for(item of departments; track $index){
            <tr class="border-b border-blue-200 hover:bg-blue-100 transition duration-200">
                <td class="px-6 py-4 text-xl">{{item.id}}</td>
                <td class="px-6 py-4 text-xl">{{item.name}}</td>
                <td class="px-6 py-4 text-center">
                    <button (click)="editDepartment(item)"
                        class="bg-blue-500 hover:bg-blue-600 text-white text-xs font-semibold px-3 py-1 rounded mr-2">
                        Edit
                    </button>
                    <button (click)="delete(item.id)" 
                    class=" bg-red-500 hover:bg-red-600 text-white text-xs font-semibold px-3 py-1 rounded">
                        Delete
                    </button>
                </td>
            </tr>
            }
        </tbody>
    </table>

    <!------------------- FORM SECTION ----------------------->


    }@else {
    <div
        class="flex justify-center items-center min-h-[680px] bg-gradient-to-r from-blue-100 via-indigo-100 to-purple-100 p-4">
        <form class="w-full max-w-md bg-white rounded-xl shadow-2xl px-10 py-8 space-y-6 border border-blue-100">
            @if(editId){
            <h1 class="text-2xl font-bold text-blue-700 text-center">Update Department</h1>
            }@else {
            <h1 class="text-2xl font-bold text-blue-700 text-center">Add Department</h1>
            }

            <mat-form-field class="w-full" appearance="fill">
                <mat-label>Department Name</mat-label>
                <input matInput name="departmentName" [(ngModel)]="departmentName" placeholder="e.g. Human Resources" />
            </mat-form-field>

            <div class="flex justify-center">
                @if(editId){
                <button type="button" mat-flat-button (click)="updateDepartment(); isFormOpen=false"
                    class="bg-gradient-to-r cursor-pointer from-green-400 to-green-600 hover:from-green-500 hover:to-green-700 text-white font-semibold py-2 px-6 rounded-lg shadow-md transition duration-300 ease-in-out">
                    Update Department
                </button>
                }@else {
                <button type="button" mat-flat-button (click)="addDepartment(); isFormOpen=false"
                    class="bg-gradient-to-r cursor-pointer from-green-400 to-green-600 hover:from-green-500 hover:to-green-700 text-white font-semibold py-2 px-6 rounded-lg shadow-md transition duration-300 ease-in-out">
                    Add Department
                </button>
                }

            </div>
        </form>
    </div>

    }

</div>